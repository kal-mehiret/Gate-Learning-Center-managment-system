{% extends "base.html" %}

{% block title %}My Grades{% endblock %}

{% block content %}
<div class="container" style="max-width: 1200px; margin: 40px auto; padding: 0 20px;">
   
    <div style="margin-bottom: 30px;">
        <h1 style="font-size: 1.8rem; font-weight: 700; color: #2c3e50; margin: 0 0 5px 0;">
            <i class="fas fa-chart-line" style="color: #6c8ea4; margin-right: 8px; font-size: 1.5rem;"></i>My Grades
        </h1>
        <p style="color: #5d6d7e; font-size: 0.95rem; margin: 0;">View your performance across courses</p>
    </div>

    
    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(108,142,164,0.05); border: 1px solid #e2e8f0; margin-bottom: 30px;">
        {% if grades %}
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, #f8fafc, #f1f5f9);">
                            <th style="padding: 14px 16px; text-align: left; font-weight: 600; color: #2c3e50; border-bottom: 2px solid #e2e8f0; font-size: 0.9rem;">
                                <i class="fas fa-book" style="margin-right: 8px;"></i> Course
                            </th>
                            <th style="padding: 14px 16px; text-align: left; font-weight: 600; color: #2c3e50; border-bottom: 2px solid #e2e8f0; font-size: 0.9rem;">
                                <i class="fas fa-percentage" style="margin-right: 8px;"></i> Score
                            </th>
                            <th style="padding: 14px 16px; text-align: left; font-weight: 600; color: #2c3e50; border-bottom: 2px solid #e2e8f0; font-size: 0.9rem;">
                                <i class="fas fa-comment" style="margin-right: 8px;"></i> Remark
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for grade in grades %}
                        <tr style="border-bottom: 1px solid #f1f5f9; transition: background-color 0.2s ease;">
                            <td style="padding: 16px; color: #2c3e50; font-weight: 500;">
                                <div style="font-weight: 600;">{{ grade.course.name }}</div>
                                <div style="font-size: 0.85rem; color: #5d6d7e; margin-top: 4px;">
                                    {{ grade.course.code }}
                                </div>
                            </td>
                            <td style="padding: 16px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="font-weight: 700; font-size: 1.1rem; color: #2c3e50;">
                                        {{ grade.score }}
                                    </span>
                                    {% if grade.score >= 80 %}
                                        <span style="background: #e8f5e9; color: #2e7d32; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                                            A
                                        </span>
                                    {% elif grade.score >= 70 %}
                                        <span style="background: #e3f2fd; color: #1565c0; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                                            B
                                        </span>
                                    {% elif grade.score >= 60 %}
                                        <span style="background: #fff3e0; color: #ef6c00; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                                            C
                                        </span>
                                    {% elif grade.score >= 50 %}
                                        <span style="background: #ffebee; color: #c62828; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                                            D
                                        </span>
                                    {% else %}
                                        <span style="background: #f5f5f5; color: #616161; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                                            F
                                        </span>
                                    {% endif %}
                                </div>
                            </td>
                            <td style="padding: 16px; color: #5d6d7e;">
                                {{ grade.remark|default:"-" }}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            
            <div style="text-align: center; padding: 50px 20px; color: #5d6d7e;">
                <i class="fas fa-chart-bar" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.3;"></i>
                <p>No grades published yet.</p>
            </div>
        {% endif %}
    </div>

    
    <div style="text-align: center; border-top: 1px solid #e2e8f0; padding-top: 25px;">
        <a href="{% url 'student_dashboard' %}" 
           style="display: inline-flex; align-items: center; gap: 6px; background: linear-gradient(135deg, #6c8ea4, #5a7a94); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease;">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
    </div>
</div>

<style>
    /* Table row hover effect */
    tbody tr:hover {
        background-color: #f8fafc;
    }
    
    /* Back button hover */
    a[href*="student_dashboard"]:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(108, 142, 164, 0.25);
        background: linear-gradient(135deg, #5a7a94, #4a6a84) !important;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .container {
            padding: 0 15px !important;
        }
        
        h1 {
            font-size: 1.5rem !important;
        }
        
        table {
            font-size: 0.9rem;
        }
        
        td, th {
            padding: 12px !important;
        }
    }
</style>
{% endblock %}